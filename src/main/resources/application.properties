spring.application.name=iceburg
server.port=8090

# Iceberg REST Catalog Configuration
iceberg.catalog.name=rest
iceberg.catalog.uri=http://localhost:8181
iceberg.catalog.warehouse=s3://warehouse/

# MinIO Configuration (S3-compatible storage)
iceberg.s3.endpoint=http://localhost:9000
iceberg.s3.access-key=admin
iceberg.s3.secret-key=password
iceberg.s3.region=us-east-1
iceberg.s3.path-style-access=true

# Spark Configuration
spark.app.name=iceberg-demo
spark.master=local[*]
spark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions
spark.sql.catalog.demo=org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.demo.type=rest
spark.sql.catalog.demo.uri=http://localhost:8181
spark.sql.catalog.demo.warehouse=s3://warehouse/
spark.sql.catalog.demo.io-impl=org.apache.iceberg.aws.s3.S3FileIO
spark.sql.catalog.demo.s3.endpoint=http://localhost:9000
spark.sql.catalog.demo.s3.access-key-id=admin
spark.sql.catalog.demo.s3.secret-access-key=password
spark.sql.catalog.demo.s3.path-style-access=true
spark.sql.defaultCatalog=demo

# Logging
logging.level.org.apache.spark=WARN
logging.level.org.apache.iceberg=INFO
logging.level.dev.onemount.iceburg=DEBUG
logging.level.io.openlineage=DEBUG
logging.level.io.openlineage.spark=DEBUG

# OpenMetadata Configuration
openmetadata.api.url=http://localhost:8585/api
openmetadata.jwt.token=eyJraWQiOiJHYjM4OWEtOWY3Ni1nZGpzLWE5MmotMDI0MmJrOTQzNTYiLCJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJvcGVuLW1ldGFkYXRhLm9yZyIsInN1YiI6ImluZ2VzdGlvbi1ib3QiLCJyb2xlcyI6WyJJbmdlc3Rpb25Cb3RSb2xlIl0sImVtYWlsIjoiaW5nZXN0aW9uLWJvdEBvcGVuLW1ldGFkYXRhLm9yZyIsImlzQm90Ijp0cnVlLCJ0b2tlblR5cGUiOiJCT1QiLCJ1c2VySWQiOiJhYzRmMTM3YS1kZjg1LTRmZGMtOGI5MS1lNTk0ZmE2NjY1NzciLCJpYXQiOjE3MDk3NjgyMDAsImV4cCI6bnVsbH0.fakesignature

# Marquez (OpenLineage Backend) Configuration
marquez.url=http://localhost:5002
marquez.namespace=iceberg_demo

# Lineage Sync Configuration
lineage.sync.interval=60000

# OpenLineage Configuration - Send to Marquez (OpenLineage Backend)
# Marquez will collect lineage events, then OpenMetadata ingestion pipeline will pull from Marquez
spark.extraListeners=io.openlineage.spark.agent.OpenLineageSparkListener
spark.openlineage.transport.type=http
spark.openlineage.transport.url=http://localhost:5002/api/v1/lineage
spark.openlineage.namespace=iceberg_demo
spark.openlineage.parentJobName=iceberg-spring-app

spark.sql.catalog.demo.write.parquet.page-size=1048576
spark.sql.catalog.demo.write.parquet.row-group-size=134217728
spark.sql.catalog.demo.write.parquet.dict-enabled=true

openlineage.url=http://localhost:5002
openlineage.namespace=iceberg_demo
openlineage.job.name.prefix=iceberg

# Iceberg Table Configurations
iceberg.table.write.format.default=parquet
iceberg.table.write.avro.compression-codec=snappy
iceberg.table.write.parquet.compression-codec=zstd

# Parquet
#spark.sql.catalog.demo.write.format.default=parquet
#spark.sql.catalog.demo.write.parquet.compression-codec=zstd

# ORC
#spark.sql.catalog.demo.write.format.default=orc
#spark.sql.catalog.demo.write.orc.compression-codec=zstd

